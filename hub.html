<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUB | –õ–ê–ú–ë–ê–î–ê VIBE & HUB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanta/0.5.24/vanta.net.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-dark: #0a0a0a;
            --secondary-dark: #1a1a1a;
            --accent-red: #dc2626;
            --text-light: #f5f5f5;
            --text-muted: #a1a1aa;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--primary-dark);
            color: var(--text-light);
            overflow-x: hidden;
        }
                    
        .hero-title {
            font-family: 'Playfair Display', serif;
            font-weight: 800;
            font-size: clamp(2.5rem, 6vw, 5rem);
            line-height: 0.9;
            letter-spacing: -0.02em;
        }
                
        .section-title {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            font-size: clamp(1.5rem, 3vw, 2.5rem);
        }
        
        .glass-effect {
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .hover-lift {
            transition: all 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(220, 38, 38, 0.2);
        }
        
        .event-card, .friendship-card {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.9), rgba(10, 10, 10, 0.9));
            border: 1px solid rgba(220, 38, 38, 0.2);
            transition: all 0.4s ease;
        }
        
        .event-card:hover, .friendship-card:hover {
            border-color: var(--accent-red);
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(220, 38, 38, 0.3);
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #dc2626, #ef4444, #dc2626);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-bottom {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
        }
        
        .language-switch {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 1000;
        }
        .vanta-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: var(--secondary-dark);
            border-radius: 0.5rem;
            overflow: hidden;
        }
        
        .calendar-day {
            aspect-ratio: 1;
            background: var(--primary-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: default;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .calendar-day:not(.calendar-header):hover {
            background: var(--secondary-dark);
        }
        
        .calendar-day.has-event {
            background: rgba(220, 38, 38, 0.1);
            cursor: pointer;
            font-weight: bold;
            color: white;
        }

        .calendar-day.has-event:hover {
            background: rgba(220, 38, 38, 0.3);
        }
        
        .calendar-day.has-event::after {
            content: '';
            position: absolute;
            bottom: 6px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: var(--accent-red);
            border-radius: 50%;
            box-shadow: 0 0 5px var(--accent-red);
        }
        
        .calendar-header {
            background: var(--secondary-dark);
            color: var(--text-muted);
            font-weight: 600;
            font-size: 0.875rem;
            cursor: default;
        }
        
        .event-language {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .lang-ua { background: rgba(0, 123, 255, 0.2); color: #007bff; }
        .lang-sk { background: rgba(40, 167, 69, 0.2); color: #28a745; }
        .lang-both { background: rgba(220, 38, 38, 0.2); color: #dc2626; }
        
        @media (max-width: 768px) {
            .hero-title { font-size: 2.5rem; }
            .nav-bottom { bottom: 1rem; }
            .language-switch { top: 1rem; right: 1rem; }
            .calendar-grid { font-size: 0.875rem; }
        }
    </style>
</head>
<body>
    <div class="language-switch">
        <button id="lang-ua" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors">UA</button>
        <button id="lang-sk" class="px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-red-700 transition-colors ml-2">SK</button>
    </div>

    <section class="relative min-h-[60vh] flex items-center justify-center px-4 coverflow-hidden">  
        <div id="vanta-bg" class="vanta-canvas"></div>
        <div class="hero-content text-center max-w-4xl mx-auto">
            <h1 class="hero-title mb-6 text-gradient">üåê HUB</h1>
            <p class="text-xl text-muted mb-8 max-w-2xl mx-auto">
                –ö–æ–º'—é–Ω—ñ—Ç—ñ –•–∞–±. –ö–∞–ª–µ–Ω–¥–∞—Ä –ø–æ–¥—ñ–π (UA/SK), –°—Ç—ñ–Ω–∞ –î—Ä—É–∂–±–∏ —Ç–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Ö–µ—à—Ç–µ–≥ #LAMBADA.Kosice.
            </p>
        </div>
    </section>

    <section class="py-20 px-4">
        <div class="max-w-7xl mx-auto">
            <h2 class="section-title text-center mb-16 text-gradient">–ö–∞–ª–µ–Ω–¥–∞—Ä –ü–æ–¥—ñ–π</h2>
            
            <div class="flex items-center justify-between mb-8">
                <button onclick="changeMonth(-1)" class="p-2 bg-secondary-dark rounded-lg hover:bg-red-600 transition-colors">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <h3 class="text-2xl font-bold capitalize" id="current-month-display"></h3>
                <button onclick="changeMonth(1)" class="p-2 bg-secondary-dark rounded-lg hover:bg-red-600 transition-colors">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            
            <div class="calendar-grid mb-12" id="calendar-grid">
                </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="events-container">
                </div>
        </div>
    </section>

    <section class="py-20 px-4 bg-secondary-dark">
        <div class="max-w-7xl mx-auto">
            <h2 class="section-title text-center mb-16 text-gradient">–°—Ç—ñ–Ω–∞ –î—Ä—É–∂–±–∏</h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                <div class="friendship-card rounded-2xl p-4 hover-lift">
                    <div class="aspect-square bg-gray-800 rounded-lg mb-3 overflow-hidden">
                        <img src="img/fr_1.jpg" alt="Friend 1" class="w-full h-full object-cover">
                    </div>
                    <h4 class="font-bold text-center mb-1">–î—Ä—É–∑—ñ</h4>
                    <p class="text-sm text-muted text-center">POCKET ACES ‚ô•Ô∏è‚ô£Ô∏èüíÄ‚ô†Ô∏è‚ô¶Ô∏è</p>
                    <p class="text-xs text-muted text-center mt-2">#LAMBADA.Kosice #pocket_a.c.e.s</p>
                </div>
                <div class="friendship-card rounded-2xl p-4 hover-lift">
                    <div class="aspect-square bg-gray-800 rounded-lg mb-3 overflow-hidden">
                        <img src="img/fr_2.jpg" alt="Friend 2" class="w-full h-full object-cover">
                    </div>
                    <h4 class="font-bold text-center mb-1">Katrin</h4>
                    <p class="text-sm text-muted text-center">–°—Ç—É–¥–µ–Ω—Ç–∫–∞ –¢–£–ö–ï</p>
                    <p class="text-xs text-muted text-center mt-2">#LAMBADA.Kosice #GameNight</p>
                </div>
                <div class="friendship-card rounded-2xl p-4 hover-lift">
                    <div class="aspect-square bg-gray-800 rounded-lg mb-3 overflow-hidden">
                        <img src="img/fr_3.jpg" alt="Friend 3" class="w-full h-full object-cover">
                    </div>
                    <h4 class="font-bold text-center mb-1">–®—Ç–µ—Ñ–∞–Ω</h4>
                    <p class="text-sm text-muted text-center">–°—Ç—É–¥–µ–Ω—Ç FAN</p>
                    <p class="text-xs text-muted text-center mt-2">#LAMBADA.Kosice #VIBENight</p>
                </div>
                <div class="friendship-card rounded-2xl p-4 hover-lift">
                    <div class="aspect-square bg-gray-800 rounded-lg mb-3 overflow-hidden">
                        <img src="img/fr_4.jpg" alt="Friend 4" class="w-full h-full object-cover">
                    </div>
                    <h4 class="font-bold text-center mb-1">–¢–æ–º–∞—à</h4>
                    <p class="text-sm text-muted text-center">–°—Ç—É–¥–µ–Ω—Ç –¢–£–ö–ï</p>
                    <p class="text-xs text-muted text-center mt-2">#LAMBADA.Kosice #–°—Ç—É–¥–µ–Ω—ÇVibe</p>
                </div>
            </div>
            
            <div class="text-center">
                <h3 class="text-2xl font-bold mb-6">–î–æ–¥–∞–π—Ç–µ —Å–≤–æ—î —Ñ–æ—Ç–æ!</h3>
                <p class="text-muted mb-8 max-w-2xl mx-auto">
                    –†–æ–±—ñ—Ç—å —Ñ–æ—Ç–æ –ø—ñ–¥ —á–∞—Å –Ω–∞—à–∏—Ö –∑–∞—Ö–æ–¥—ñ–≤, –¥–æ–¥–∞–≤–∞–π—Ç–µ —Ö–µ—à—Ç–µ–≥ #LAMBADA.Kosice 
                    —Ç–∞ –ø–æ—Ç—Ä–∞–ø–ª—è–π—Ç–µ –Ω–∞ –Ω–∞—à—É –°—Ç—ñ–Ω—É –î—Ä—É–∂–±–∏!
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="https://instagram.com/lambada.kosice" target="_blank" class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full hover:from-purple-700 hover:to-pink-700 transition-all hover-lift">
                        <i class="fab fa-instagram mr-3"></i>
                        –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ —Ñ–æ—Ç–æ
                    </a>
                    <button onclick="showUploadInstructions()" class="inline-flex items-center px-6 py-3 bg-red-600 text-white rounded-full hover:bg-red-700 transition-all hover-lift">
                        <i class="fas fa-info-circle mr-3"></i>
                        –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
                    </button>
                </div>
            </div>
        </div>
    </section>

    <section class="py-20 px-4">
        <div class="max-w-7xl mx-auto text-center">
            <h2 class="section-title mb-8 text-gradient">–ù–∞—à –•–µ—à—Ç–µ–≥</h2>
            <div class="bg-gradient-to-r from-red-600 to-purple-600 rounded-2xl p-12 mb-8">
                <h3 class="text-4xl font-bold text-white mb-4">#LAMBADA.Kosice</h3>
                <p class="text-white text-opacity-90 text-lg max-w-2xl mx-auto">
                    –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π —Ö–µ—à—Ç–µ–≥ —É —Å–≤–æ—ó—Ö –ø–æ—Å—Ç–∞—Ö –≤ Instagram, Facebook —Ç–∞ TikTok.
                </p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="text-center">
                    <div class="w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4"><i class="fas fa-camera text-2xl text-white"></i></div>
                    <h4 class="font-bold mb-2">–§–æ—Ç–æ–≥—Ä–∞—Ñ—É–π—Ç–µ</h4>
                    <p class="text-muted">–†–æ–±—ñ—Ç—å —è—Å–∫—Ä–∞–≤—ñ —Ñ–æ—Ç–æ</p>
                </div>
                <div class="text-center">
                    <div class="w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4"><i class="fas fa-hashtag text-2xl text-white"></i></div>
                    <h4 class="font-bold mb-2">–î–æ–¥–∞–≤–∞–π—Ç–µ —Ö–µ—à—Ç–µ–≥</h4>
                    <p class="text-muted">#LAMBADA.Kosice</p>
                </div>
                <div class="text-center">
                    <div class="w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4"><i class="fas fa-share text-2xl text-white"></i></div>
                    <h4 class="font-bold mb-2">–î—ñ–ª—ñ—Ç—å—Å—è</h4>
                    <p class="text-muted">–¢–µ–≥–∞–π—Ç–µ –Ω–∞—Å @lambada.kosice</p>
                </div>
            </div>
        </div>
    </section>

    <nav class="nav-bottom glass-effect rounded-full px-6 py-3">
        <div class="flex items-center space-x-6">
            <button onclick="window.location.href='index.html'" class="flex items-center space-x-2 text-gray-400 hover:text-red-400 transition-colors">
                <i class="fas fa-home"></i><span class="hidden sm:inline">–ì–æ–ª–æ–≤–Ω–∞</span>
            </button>
            <button onclick="window.location.href='play.html'" class="flex items-center space-x-2 text-gray-400 hover:text-red-400 transition-colors">
                <i class="fas fa-gamepad"></i><span class="hidden sm:inline">PLAY</span>
            </button>
            <button onclick="window.location.href='vibe.html'" class="flex items-center space-x-2 text-gray-400 hover:text-red-400 transition-colors">
                <i class="fas fa-music"></i><span class="hidden sm:inline">VIBE</span>
            </button>
            <button onclick="window.location.href='hub.html'" class="flex items-center space-x-2 text-red-500 hover:text-red-400 transition-colors">
                <i class="fas fa-users"></i><span class="hidden sm:inline">HUB</span>
            </button>
        </div>
    </nav>

    <div id="event-modal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50">
        <div class="bg-secondary-dark rounded-2xl p-8 max-w-2xl mx-4 max-h-[90vh] overflow-y-auto w-full">
            <div class="flex justify-between items-center mb-6">
                <h3 id="event-modal-title" class="text-2xl font-bold text-gradient"></h3>
                <button onclick="closeModal('event-modal')" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            <div id="event-modal-content"></div>
        </div>
    </div>

    <div id="instructions-modal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50">
        <div class="bg-secondary-dark rounded-2xl p-8 max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gradient">–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è —Ñ–æ—Ç–æ</h3>
                <button onclick="closeModal('instructions-modal')" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            <div class="space-y-4">
                <p class="text-muted">–©–æ–± –≤–∞—à—ñ —Ñ–æ—Ç–æ –ø–æ—Ç—Ä–∞–ø–∏–ª–∏ –Ω–∞ –Ω–∞—à—É –°—Ç—ñ–Ω—É –î—Ä—É–∂–±–∏:</p>
                <ol class="text-muted space-y-2">
                    <li>1. –†–æ–±—ñ—Ç—å —Ñ–æ—Ç–æ –ø—ñ–¥ —á–∞—Å –Ω–∞—à–∏—Ö –∑–∞—Ö–æ–¥—ñ–≤</li>
                    <li>2. –î–æ–¥–∞–≤–∞–π—Ç–µ —Ö–µ—à—Ç–µ–≥ #LAMBADA.Kosice</li>
                    <li>3. –¢–µ–≥–∞–π—Ç–µ @lambada_kosice</li>
                </ol>
                <div class="bg-red-600 bg-opacity-20 p-4 rounded-lg">
                    <p class="text-sm"><strong class="text-red-400">–ü–æ—Ä–∞–¥–∞:</strong> –ù–∞–π–∫—Ä–∞—â—ñ —Ñ–æ—Ç–æ –∑'—è–≤–ª—è—Ç—å—Å—è –≤ Instagram!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 1. CONFIG & DATA
        const eventsData = [
            {
                id: 'monday-club',
                title: '–ú–æ–≤–Ω–∏–π –ö–ª—É–±',
                date: '2025-11-18',
                time: '18:00',
                desc: '–ü—Ä–∞–∫—Ç–∏–∫–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏ –¥–ª—è –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—ñ–≤. –Ü–≥—Ä–∏, —Ä–æ–∑–º–æ–≤–∏.',
                fullDesc: '–ü—Ä–∞–∫—Ç–∏–∫–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏ –¥–ª—è –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—ñ–≤ –∑–Ω–∞–Ω—å. –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ —ñ–≥—Ä–∏, —Ä–æ–∑–º–æ–≤–Ω—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ç–∞ –Ω–æ–≤—ñ –∑–Ω–∞–π–æ–º—Å—Ç–≤–∞.',
                lang: '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞',
                langClass: 'lang-ua',
                participants: 15,
                location: '–ö–æ–≤–æ—Ä–∫—ñ–Ω–≥ –∑–æ–Ω–∞',
                features: ['–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ —ñ–≥—Ä–∏', '–†–æ–∑–º–æ–≤–Ω—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏', '–ù–æ–≤—ñ –∑–Ω–∞–π–æ–º—Å—Ç–≤–∞']
            },
            {
                id: 'game-night',
                title: 'Game Night',
                date: '2025-11-20',
                time: '19:00',
                desc: '–¢—É—Ä–Ω—ñ—Ä –∑ –Ω–∞—Å—Ç—ñ–ª—å–Ω–∏—Ö —ñ–≥–æ—Ä. –ö–∞—Ä–∫–∞—Å—Å–æ–Ω, –ú–æ–Ω–æ–ø–æ–ª—ñ—è, –£–Ω–æ.',
                fullDesc: '–¢—É—Ä–Ω—ñ—Ä –∑ –Ω–∞—Å—Ç—ñ–ª—å–Ω–∏—Ö —ñ–≥–æ—Ä –¥–ª—è —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö –≥–µ–π–º–µ—Ä—ñ–≤. –ü—Ä–∏–∑–∏, –∫–æ–∫—Ç–µ–π–ª—ñ —Ç–∞ —Å–ª–∞–≤–∞ –ø–µ—Ä–µ–º–æ–∂—Ü—è–º!',
                lang: 'Slovensk√Ω',
                langClass: 'lang-sk',
                participants: 20,
                location: '–Ü–≥—Ä–æ–≤–∞ –∑–æ–Ω–∞',
                features: ['–ö–∞—Ä–∫–∞—Å—Å–æ–Ω', '–ú–æ–Ω–æ–ø–æ–ª—ñ—è', '–£–Ω–æ', '–ü—Ä–∏–∑–∏']
            },
            {
                id: 'vibe-night',
                title: 'VIBE Night',
                date: '2025-11-25',
                time: '20:00',
                desc: '–í–µ—á—ñ—Ä –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω–æ—ó –º—É–∑–∏–∫–∏ –≤ —Å—Ç–∏–ª—ñ The Weeknd.',
                fullDesc: '–í–µ—á—ñ—Ä –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω–æ—ó –º—É–∑–∏–∫–∏, –∫–æ–∫—Ç–µ–π–ª—ñ–≤ —Ç–∞ –≤—ñ–ª—å–Ω–æ–≥–æ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –≤ —Å—Ç–∏–ª—ñ The Weeknd.',
                lang: 'UA/SK',
                langClass: 'lang-both',
                participants: 30,
                location: '–õ–∞—É–Ω–∂ –∑–æ–Ω–∞',
                features: ['–ú—É–∑–∏–∫–∞', '–ö–æ–∫—Ç–µ–π–ª—ñ', 'Lounge']
            }
        ];

        let currentDate = new Date(2025, 10); // –õ–∏—Å—Ç–æ–ø–∞–¥ 2025

        // 2. INITIALIZATION
        document.addEventListener('DOMContentLoaded', () => {
            // Init Vanta
            try {
                VANTA.NET({
                    el: "#vanta-bg",
                    mouseControls: true,
                    touchControls: true,
                    gyroControls: false,
                    minHeight: 200.00,
                    minWidth: 200.00,
                    scale: 1.00,
                    scaleMobile: 1.00,
                    shininess: 30.00,
                    waveHeight: 15.00,
                    waveSpeed: 0.75,
                    zoom: 0.65
                });
            } catch (e) { console.log("Vanta failed to load", e); }

            renderCalendar();
            renderEventCards();
        });

        // 3. CALENDAR LOGIC
        function changeMonth(step) {
            currentDate.setMonth(currentDate.getMonth() + step);
            renderCalendar();
        }

        function renderCalendar() {
            const grid = document.getElementById('calendar-grid');
            const monthDisplay = document.getElementById('current-month-display');
            
            // Headers
            const days = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–ù–¥'];
            grid.innerHTML = days.map(day => `<div class="calendar-day calendar-header">${day}</div>`).join('');

            // Month Title
            const monthName = currentDate.toLocaleString('uk-UA', { month: 'long', year: 'numeric' });
            monthDisplay.textContent = monthName.charAt(0).toUpperCase() + monthName.slice(1);

            // Logic
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            const firstDayOfMonth = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const adjustedFirstDay = firstDayOfMonth === 0 ? 6 : firstDayOfMonth - 1;

            // Empty slots
            for (let i = 0; i < adjustedFirstDay; i++) {
                grid.innerHTML += `<div class="calendar-day empty opacity-0 pointer-events-none"></div>`;
            }

            // Days
            for (let day = 1; day <= daysInMonth; day++) {
                const dateString = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const event = eventsData.find(e => e.date === dateString);
                
                let className = 'calendar-day';
                let onClick = '';
                
                if (event) {
                    className += ' has-event';
                    onClick = `onclick="showEventDetails('${event.id}')"`;
                }
                
                grid.innerHTML += `<div class="${className}" ${onClick}>${day}</div>`;
            }
        }

        // 4. CARDS LOGIC
        function renderEventCards() {
            const container = document.getElementById('events-container');
            container.innerHTML = '';
            
            const sortedEvents = [...eventsData].sort((a, b) => new Date(a.date) - new Date(b.date));

            sortedEvents.forEach(event => {
                const dateObj = new Date(event.date);
                const dateStr = dateObj.toLocaleString('uk-UA', { day: 'numeric', month: 'long' });
                
                container.innerHTML += `
                    <div class="event-card rounded-2xl p-6 hover-lift">
                        <div class="flex items-center justify-between mb-4">
                            <span class="event-language ${event.langClass}">${event.lang}</span>
                            <span class="text-sm text-muted">${dateStr}, ${event.time}</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2">${event.title}</h3>
                        <p class="text-muted mb-4">${event.desc}</p>
                        <div class="flex items-center space-x-4 mb-4">
                            <div class="flex items-center text-sm text-muted">
                                <i class="fas fa-users mr-2"></i><span>${event.participants} —É—á–∞—Å–Ω–∏–∫—ñ–≤</span>
                            </div>
                            <div class="flex items-center text-sm text-muted">
                                <i class="fas fa-map-marker-alt mr-2"></i><span>${event.location}</span>
                            </div>
                        </div>
                        <button onclick="joinEvent('${event.id}')" class="w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors">
                            –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è
                        </button>
                    </div>
                `;
            });
        }

        // 5. MODAL LOGIC
        function showEventDetails(eventId) {
            const event = eventsData.find(e => e.id === eventId);
            if (!event) return;

            const dateObj = new Date(event.date);
            const dateStr = dateObj.toLocaleString('uk-UA', { day: 'numeric', month: 'long' });
            
            // Generate feature list HTML
            const featuresHTML = event.features.map(f => `<li>‚Ä¢ ${f}</li>`).join('');

            const content = `
                <div class="space-y-4">
                    <div class="bg-red-600 bg-opacity-20 p-4 rounded-lg">
                        <div class="flex items-center justify-between mb-2">
                            <span class="event-language ${event.langClass}">${event.lang}</span>
                            <span class="text-sm text-muted">${dateStr}, ${event.time}</span>
                        </div>
                        <p class="text-sm">${event.fullDesc}</p>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <h4 class="font-bold mb-2">–î–µ—Ç–∞–ª—ñ:</h4>
                            <ul class="text-sm text-muted space-y-1">
                                ${featuresHTML}
                            </ul>
                        </div>
                        <div class="bg-gray-800 p-4 rounded-lg">
                            <p class="text-sm text-muted mb-2"><i class="fas fa-map-marker-alt mr-2"></i> ${event.location}</p>
                            <p class="text-sm text-muted"><i class="fas fa-users mr-2"></i> ${event.participants} –º—ñ—Å—Ü—å</p>
                        </div>
                    </div>
                    <button onclick="joinEvent('${event.id}')" class="w-full mt-4 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-bold transition-colors">
                        –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –Ω–∞ –ø–æ–¥—ñ—é
                    </button>
                </div>
            `;

            document.getElementById('event-modal-title').textContent = event.title;
            document.getElementById('event-modal-content').innerHTML = content;
            
            const modal = document.getElementById('event-modal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function joinEvent(eventId) {
            const event = eventsData.find(e => e.id === eventId);
            alert(`–í–∏ —É—Å–ø—ñ—à–Ω–æ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞–ª–∏—Å—è –Ω–∞ "${event.title}"! –ß–µ–∫–∞—î–º–æ –≤–∞—Å.`);
            closeModal('event-modal');
        }

        function showUploadInstructions() {
            const modal = document.getElementById('instructions-modal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Close on click outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('fixed')) {
                e.target.classList.add('hidden');
                e.target.classList.remove('flex');
            }
        });

        // Language switch visual only
        document.getElementById('lang-ua').addEventListener('click', function() {
            this.classList.add('bg-red-600'); this.classList.remove('bg-gray-700');
            document.getElementById('lang-sk').classList.add('bg-gray-700'); document.getElementById('lang-sk').classList.remove('bg-red-600');
        });
        document.getElementById('lang-sk').addEventListener('click', function() {
            this.classList.add('bg-red-600'); this.classList.remove('bg-gray-700');
            document.getElementById('lang-ua').classList.add('bg-gray-700'); document.getElementById('lang-ua').classList.remove('bg-red-600');
        });
    </script>
</body>
</html>
